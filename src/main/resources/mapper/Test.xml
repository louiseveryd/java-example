<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.example.mybatis.dao.TestDao" >
    <resultMap id="BaseResultMap" type="com.example.mybatis.entity.Human">
        <id column="id" property="id" />
        <result column="name" property="name" />
        <result column="age" property="age" />
        <result column="address" property="address" />
        <result column="gender" property="gender" />
        <result column="phone" property="phone" />
        <result column="email" property="email" />
    </resultMap>

    <select id="list"  resultMap="BaseResultMap" statementType="PREPARED" flushCache="true" useCache="false" >
        select id , name,age,address,gender,phone,email
        from human
    </select>

    <!--flushCache: false , 去掉一级缓存，
     useCache: false 这个查询不使用二级缓存 -->
<cache-ref namespace="com.example.mybatis.dao.TestDao"/>
     <cache eviction="org.apache.ibatis.cache.decorators.LruCache" readOnly="true" blocking="false" />
    <!-- 开启二级缓存  readOnly 设为true，标识只读缓存，不需要序列化， false是写缓存-->
</mapper>
